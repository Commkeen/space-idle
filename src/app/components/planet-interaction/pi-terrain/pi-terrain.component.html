<div fxLayout="row" class="layout-container">
  <div fxFlex="60" class="layout-column-left">
    <ul class="feature-list">
      <li *ngFor="let feature of featureList">
        <fa-icon
          icon="compass"
          *ngIf="feature.discovered && !feature.surveyed"
        ></fa-icon>
        <fa-icon
          icon="cog"
          *ngIf="feature.surveyed && !feature.exploited"
        ></fa-icon>
        <fa-icon icon="check" *ngIf="feature.exploited"></fa-icon>
        <span
          class="feature-list-item"
          *ngIf="feature.discovered"
          (click)="selectFeature(feature.id)"
          [ngClass]="{ selected: selectedFeatureId === feature.id }"
          >{{ feature.name }}</span
        >
      </li>
    </ul>
  </div>
  <div fxFlex="40" class="layout-column-right">
    <div class="detail-card">
      <div>{{ featureDetails.name }}</div>
      <br />
      <div>{{ featureDetails.description }}</div>
      <br />
      <mat-divider></mat-divider>
      <div *ngIf="featureDetails.needSurveyTech">You don't have the technology to survey this terrain.</div>
      <div *ngIf="featureDetails.needExploitTech">You don't have the technology to exploit this resource.</div>
      <div *ngIf="featureDetails.canBuyExploit">
        Exploiting this resource will produce:
        <div class="productionItem" *ngFor="let resource of featureDetails.exploitProduction.resources">
          {{resource.resource}}: {{resource.amount | displayNumber}}<span *ngIf="!resource.isPower()">/s</span>
        </div>
      </div>
      <div *ngIf="featureDetails.exploited">
        This exploited resource is producing:
        <div class="productionItem" *ngFor="let resource of featureDetails.exploitProduction.resources">
          {{resource.resource}}: {{resource.amount | displayNumber}}<span *ngIf="!resource.isPower()">/s</span>
        </div>
      </div>
      <br />
      <button mat-raised-button *ngIf="featureDetails.canSurvey" [disabled]="!canAffordSurvey()" (click)="buySurvey()">
        {{ featureDetails.surveyButtonText }}
      </button>
      <button
        mat-raised-button
        *ngIf="featureDetails.canBuyExploit"
        [disabled]="!canAffordExploit()"
        (click)="buyExploit()"
      >
        {{ featureDetails.exploitButtonText }}
      </button>
      <span *ngIf="featureDetails.canSurvey">Cost: {{featureDetails.surveyCost}} Survey</span>
      <div *ngIf="featureDetails.canBuyExploit">
        <div *ngFor="let resource of featureDetails.exploitCost.resources">
          {{resource.resource}}: {{resource.amount | displayNumber}}
        </div>
      </div>
    </div>
  </div>
</div>
